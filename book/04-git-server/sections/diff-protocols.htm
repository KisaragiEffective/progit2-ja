<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WinMerge File Compare Report</title>
<style type="text/css">
<!--
td,th {word-break: break-all; font-size: 12pt;}
.ln {text-align: right; word-break: keep-all; background-color: lightgrey;}
.title {color: white; background-color: blue; vertical-align: top;}
.sf3b2 {color: #000000; background-color: #ffffff; }
.sf3b5 {color: #000000; background-color: #3399ff; }
.sf3b14 {color: #000000; background-color: #ffaaaa; }
.sf3b16 {color: #000000; background-color: #aaffaa; }
.sf3b18 {color: #000000; background-color: #a0e6a0; }
.sf3b19 {color: #000000; background-color: #e6968c; }
.sf6b2 {color: #ffffff; background-color: #ffffff; }
.sf6b5 {color: #ffffff; background-color: #3399ff; }
.sf6b14 {color: #ffffff; background-color: #ffaaaa; }
.sf6b16 {color: #ffffff; background-color: #aaffaa; }
.sf6b18 {color: #ffffff; background-color: #a0e6a0; }
.sf6b19 {color: #ffffff; background-color: #e6968c; }
.sf7b2 {color: #0000ff; background-color: #ffffff; font-weight: bold; }
.sf7b5 {color: #0000ff; background-color: #3399ff; font-weight: bold; }
.sf7b14 {color: #0000ff; background-color: #ffaaaa; font-weight: bold; }
.sf7b16 {color: #0000ff; background-color: #aaffaa; font-weight: bold; }
.sf7b18 {color: #0000ff; background-color: #a0e6a0; font-weight: bold; }
.sf7b19 {color: #0000ff; background-color: #e6968c; font-weight: bold; }
.sf8b2 {color: #800080; background-color: #ffffff; }
.sf8b5 {color: #800080; background-color: #3399ff; }
.sf8b14 {color: #800080; background-color: #ffaaaa; }
.sf8b16 {color: #800080; background-color: #aaffaa; }
.sf8b18 {color: #800080; background-color: #a0e6a0; }
.sf8b19 {color: #800080; background-color: #e6968c; }
.sf9b2 {color: #008000; background-color: #ffffff; }
.sf9b5 {color: #008000; background-color: #3399ff; }
.sf9b14 {color: #008000; background-color: #ffaaaa; }
.sf9b16 {color: #008000; background-color: #aaffaa; }
.sf9b18 {color: #008000; background-color: #a0e6a0; }
.sf9b19 {color: #008000; background-color: #e6968c; }
.sf10b2 {color: #ff0000; background-color: #ffffff; }
.sf10b5 {color: #ff0000; background-color: #3399ff; }
.sf10b14 {color: #ff0000; background-color: #ffaaaa; }
.sf10b16 {color: #ff0000; background-color: #aaffaa; }
.sf10b18 {color: #ff0000; background-color: #a0e6a0; }
.sf10b19 {color: #ff0000; background-color: #e6968c; }
.sf11b2 {color: #606060; background-color: #ffffff; }
.sf11b5 {color: #606060; background-color: #3399ff; }
.sf11b14 {color: #606060; background-color: #ffaaaa; }
.sf11b16 {color: #606060; background-color: #aaffaa; }
.sf11b18 {color: #606060; background-color: #a0e6a0; }
.sf11b19 {color: #606060; background-color: #e6968c; }
.sf12b2 {color: #800000; background-color: #ffffff; }
.sf12b5 {color: #800000; background-color: #3399ff; }
.sf12b14 {color: #800000; background-color: #ffaaaa; }
.sf12b16 {color: #800000; background-color: #aaffaa; }
.sf12b18 {color: #800000; background-color: #a0e6a0; }
.sf12b19 {color: #800000; background-color: #e6968c; }
.sf13b2 {color: #0080c0; background-color: #ffffff; }
.sf13b5 {color: #0080c0; background-color: #3399ff; }
.sf13b14 {color: #0080c0; background-color: #ffaaaa; }
.sf13b16 {color: #0080c0; background-color: #aaffaa; }
.sf13b18 {color: #0080c0; background-color: #a0e6a0; }
.sf13b19 {color: #0080c0; background-color: #e6968c; }
.sf15b2 {color: #ffffff; background-color: #ffffff; }
.sf15b5 {color: #ffffff; background-color: #3399ff; }
.sf15b14 {color: #ffffff; background-color: #ffaaaa; }
.sf15b16 {color: #ffffff; background-color: #aaffaa; }
.sf15b18 {color: #ffffff; background-color: #a0e6a0; }
.sf15b19 {color: #ffffff; background-color: #e6968c; }
.sf17b2 {color: #ffffff; background-color: #ffffff; }
.sf17b5 {color: #ffffff; background-color: #3399ff; }
.sf17b14 {color: #ffffff; background-color: #ffaaaa; }
.sf17b16 {color: #ffffff; background-color: #aaffaa; }
.sf17b18 {color: #ffffff; background-color: #a0e6a0; }
.sf17b19 {color: #ffffff; background-color: #e6968c; }
.sf20b2 {color: #000080; background-color: #ffffff; }
.sf20b5 {color: #000080; background-color: #3399ff; }
.sf20b14 {color: #000080; background-color: #ffaaaa; }
.sf20b16 {color: #000080; background-color: #aaffaa; }
.sf20b18 {color: #000080; background-color: #a0e6a0; }
.sf20b19 {color: #000080; background-color: #e6968c; }
.sf21b2 {color: #0080c0; background-color: #ffffff; }
.sf21b5 {color: #0080c0; background-color: #3399ff; }
.sf21b14 {color: #0080c0; background-color: #ffaaaa; }
.sf21b16 {color: #0080c0; background-color: #aaffaa; }
.sf21b18 {color: #0080c0; background-color: #a0e6a0; }
.sf21b19 {color: #0080c0; background-color: #e6968c; }
-->
</style>
</head>
<body>
<table cellspacing="0" cellpadding="0" style="width: 100%; margin: 0; border: none;">
<thead>
<tr>
<th class="title" style="width:1%"></th><th class="title" style="width:49.000000%">C:\Users\15625\Documents\Git\progit\en\04-git-server\01-chapter4.markdown</th>
<th class="title" style="width:1%"></th><th class="title" style="width:49.000000%">C:\Users\15625\Documents\Git\progit2-ja\book\04-git-server\sections\protocols.asc</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<td class="ln">1</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "># Git on the Server #</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">2</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">3</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At this point, you should be able to do most of the day-to-day tasks for which you’ll be using Git. However, in order to do any collaboration in Git, you’ll need to have a remote Git repository. Although you can technically push changes to and pull changes from individuals’ repositories, doing so is discouraged because you can fairly easily confuse what they’re working on if you’re not careful. Furthermore, you want your collaborators to be able to access the repository even if your computer is offline — having a more reliable common repository is often useful. Therefore, the preferred method for collaborating with someone is to set up an intermediate repository that you both have access to, and push to and pull from that. We’ll refer to this repository as a "Git server"; but you’ll notice that it generally takes a tiny amount of resources to host a Git repository, so you’ll rarely need to use an entire server for it.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">4</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">5</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Running a Git server is simple. First, you choose which protocols you want your server to communicate with. The first section of this chapter will cover the available protocols and the pros and cons of each. The next sections will explain some typical setups using those protocols and how to get your server running with them. Last, we’ll go over a few hosted options, if you don’t mind hosting your code on someone else’s server and don’t want to go through the hassle of setting up and maintaining your own server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">6</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">7</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you have no interest in running your own server, you can skip to the last section of the chapter to see some options for setting up a hosted account and then move on to the next chapter, where we discuss the various ins and outs of working in a distributed source control environment.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">8</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">9</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">A remote repository is generally a _bare repository_ — a Git repository that has no working directory. Because the repository is only used as a collaboration point, there is no reason to have a snapshot checked out on disk; it’s just the Git data. In the simplest terms, a bare repository is the contents of your project’s `.git` directory and nothing else.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">10</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">11</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## The Protocols ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">1</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">=== The Protocols</span></code></td>
</tr>
<tr valign="top">
<td class="ln">12</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">2</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">13</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git can use four major </span><span class="sf3b18">network </span><span style="color: #000000; background-color: #ddffdd; ">protocols to transfer data: Local, </span><span style="color: #000000; background-color: #ddffdd; ">Secure Shell (SSH)</span><span class="sf3b18">,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">Git, </span><span style="color: #000000; background-color: #ddffdd; ">and </span><span class="sf3b16">HTTP</span><span style="color: #000000; background-color: #ddffdd; ">. Here </span><span class="sf3b16">we’</span><span style="color: #000000; background-color: #ddffdd; ">ll discuss what they are and in what basic circumstances you would want (or not want) to use them.</span></code></td>
<td class="ln">3</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git can use four major </span><span style="color: #000000; background-color: #ddffdd; ">protocols to transfer data: Local, </span><span class="sf3b18">HTTP, </span><span style="color: #000000; background-color: #ddffdd; ">Secure Shell (SSH)</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">and </span><span class="sf3b16">Git</span><span style="color: #000000; background-color: #ddffdd; ">. Here </span><span class="sf3b16">we'</span><span style="color: #000000; background-color: #ddffdd; ">ll discuss what they are and in what basic circumstances you would want (or not want) to use them.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">14</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">4</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">15</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It’s important to note that with the exception of the HTTP protocols, all of these require Git to be installed and working on the server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">16</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">17</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Local Protocol ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">5</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">==== Local Protocol</span></code></td>
</tr>
<tr valign="top">
<td class="ln">18</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">6</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">7</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">(((protocols, local)))</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">8</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The most basic is the _Local protocol_, in which the remote repository is in another directory on disk. </span></code></td>
</tr>
<tr valign="top">
<td class="ln">19</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18">The most basic is the _Local protocol_, in which the remote repository is in another directory on disk. </span><span style="color: #000000; background-color: #ddffdd; ">This is often used if everyone on your team has access to a shared filesystem such as an NFS mount, or in the less likely case that everyone logs in to the same computer. The latter </span><span class="sf3b16">wouldn’</span><span style="color: #000000; background-color: #ddffdd; ">t be ideal, because all your code repository instances would reside on the same computer, making a catastrophic loss much more likely.</span></code></td>
<td class="ln">9</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This is often used if everyone on your team has access to a shared filesystem such as an NFS mount, or in the less likely case that everyone logs in to the same computer. The latter </span><span class="sf3b16">wouldn'</span><span style="color: #000000; background-color: #ddffdd; ">t be ideal, because all your code repository instances would reside on the same computer, making a catastrophic loss much more likely.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">20</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">10</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">21</td><td class="sf3b2"><code><span class="sf3b2">If you have a shared mounted filesystem, then you can clone, push to, and pull from a local file-based repository. To clone a repository like this or to add one as a remote to an existing project, use the path to the repository as the URL. For example, to clone a local repository, you can run something like this:</span></code></td>
<td class="ln">11</td><td class="sf3b2"><code><span class="sf3b2">If you have a shared mounted filesystem, then you can clone, push to, and pull from a local file-based repository. To clone a repository like this or to add one as a remote to an existing project, use the path to the repository as the URL. For example, to clone a local repository, you can run something like this:</span></code></td>
</tr>
<tr valign="top">
<td class="ln">22</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">12</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">13</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">14</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">23</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone /opt/git/project.git</span></code></td>
<td class="ln">15</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone /opt/git/project.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">16</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">24</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">17</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">25</td><td class="sf3b2"><code><span class="sf3b2">Or you can do this:</span></code></td>
<td class="ln">18</td><td class="sf3b2"><code><span class="sf3b2">Or you can do this:</span></code></td>
</tr>
<tr valign="top">
<td class="ln">26</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">19</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">20</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">21</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">27</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone file:///opt/git/project.git</span></code></td>
<td class="ln">22</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone file:///opt/git/project.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">23</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">28</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">24</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">29</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git operates slightly differently if you explicitly specify `file://` at the beginning of the URL. If you just specify the path, </span><span class="sf3b18">and the source and the destination are on the same filesystem, </span><span style="color: #000000; background-color: #ddffdd; ">Git tries to </span><span class="sf3b16">hardlink</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">the</span><span style="color: #000000; background-color: #ddffdd; "> o</span><span class="sf3b16">bjects</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">needs. If they are not on the same filesystem, it will </span><span style="color: #000000; background-color: #ddffdd; ">copy the </span><span class="sf3b16">object</span><span style="color: #000000; background-color: #ddffdd; ">s it needs</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">using the system's standard copying functionality. </span><span style="color: #000000; background-color: #ddffdd; ">If you specify `file://`, Git fires up the processes that it normally uses to transfer data over a network which is generally a lot less efficient method of transferring the data. The main reason to specify the `file://` prefix is if you want a clean copy of the repository with extraneous references or objects left out </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> generally after an import from another version-control system or something similar (see </span><span class="sf3b16">Chapter</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">9 </span><span style="color: #000000; background-color: #ddffdd; ">for maintenance tasks). </span><span class="sf3b16">We’</span><span style="color: #000000; background-color: #ddffdd; ">ll use the normal path here because doing so is almost always faster.</span></code></td>
<td class="ln">25</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git operates slightly differently if you explicitly specify `file://` at the beginning of the URL. If you just specify the path, </span><span style="color: #000000; background-color: #ddffdd; ">Git tries to </span><span class="sf3b16">use</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">hardlinks</span><span style="color: #000000; background-color: #ddffdd; "> o</span><span class="sf3b16">r</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">directly</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">copy the </span><span class="sf3b16">file</span><span style="color: #000000; background-color: #ddffdd; ">s it needs</span><span class="sf3b18">.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">If you specify `file://`, Git fires up the processes that it normally uses to transfer data over a network which is generally a lot less efficient method of transferring the data. The main reason to specify the `file://` prefix is if you want a clean copy of the repository with extraneous references or objects left out </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> generally after an import from another version-control system or something similar (see </span><span class="sf3b16">&lt;&lt;_git_internals&gt;&gt;</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">for maintenance tasks). </span><span class="sf3b16">We'</span><span style="color: #000000; background-color: #ddffdd; ">ll use the normal path here because doing so is almost always faster.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">30</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">26</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">31</td><td class="sf3b2"><code><span class="sf3b2">To add a local repository to an existing Git project, you can run something like this:</span></code></td>
<td class="ln">27</td><td class="sf3b2"><code><span class="sf3b2">To add a local repository to an existing Git project, you can run something like this:</span></code></td>
</tr>
<tr valign="top">
<td class="ln">32</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">28</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">29</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">30</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">33</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git remote add local_proj /opt/git/project.git</span></code></td>
<td class="ln">31</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git remote add local_proj /opt/git/project.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">32</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">34</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">33</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">35</td><td class="sf3b2"><code><span class="sf3b2">Then, you can push to and pull from that remote as though you were doing so over a network.</span></code></td>
<td class="ln">34</td><td class="sf3b2"><code><span class="sf3b2">Then, you can push to and pull from that remote as though you were doing so over a network.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">36</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">35</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">37</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">36</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">38</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">37</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">39</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The pros of file-based repositories are that </span><span class="sf3b16">they’</span><span style="color: #000000; background-color: #ddffdd; ">re simple and they use existing file permissions and network access. If you already have a shared filesystem to which your whole team has access, setting up a repository is very easy. You stick the bare repository copy somewhere everyone has shared access to and set the read/write permissions as you would for any other shared directory. </span><span class="sf3b16">We’</span><span style="color: #000000; background-color: #ddffdd; ">ll discuss how to export a bare repository copy for this purpose in </span><span class="sf3b16">the next section, “Getting Git on a Server.”</span>&nbsp;</code></td>
<td class="ln">38</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The pros of file-based repositories are that </span><span class="sf3b16">they'</span><span style="color: #000000; background-color: #ddffdd; ">re simple and they use existing file permissions and network access. If you already have a shared filesystem to which your whole team has access, setting up a repository is very easy. You stick the bare repository copy somewhere everyone has shared access to and set the read/write permissions as you would for any other shared directory. </span><span class="sf3b16">We'</span><span style="color: #000000; background-color: #ddffdd; ">ll discuss how to export a bare repository copy for this purpose in </span><span class="sf3b16">&lt;&lt;_git_on_the_server&gt;&gt;.</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">40</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">39</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">41</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This is also a nice option for quickly grabbing work from someone </span><span class="sf3b16">else’</span><span style="color: #000000; background-color: #ddffdd; ">s working repository. If you and a co-worker are working on the same project and they want you to check something out, running a command like `git pull /home/john/project` is often easier than them pushing to a remote server and you pulling down.</span></code></td>
<td class="ln">40</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This is also a nice option for quickly grabbing work from someone </span><span class="sf3b16">else'</span><span style="color: #000000; background-color: #ddffdd; ">s working repository. If you and a co-worker are working on the same project and they want you to check something out, running a command like `git pull /home/john/project` is often easier than them pushing to a remote server and you pulling down.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">42</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">41</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">43</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">42</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">44</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">43</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">45</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The cons of this method are that shared access is generally more difficult to set up and reach from multiple locations than basic network access. If you want to push from your laptop when </span><span class="sf3b16">you’</span><span style="color: #000000; background-color: #ddffdd; ">re at home, you have to mount the remote disk, which can be difficult and slow compared to network-based access.</span></code></td>
<td class="ln">44</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The cons of this method are that shared access is generally more difficult to set up and reach from multiple locations than basic network access. If you want to push from your laptop when </span><span class="sf3b16">you'</span><span style="color: #000000; background-color: #ddffdd; ">re at home, you have to mount the remote disk, which can be difficult and slow compared to network-based access.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">46</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">45</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">47</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">It’</span><span style="color: #000000; background-color: #ddffdd; ">s also important to mention that this </span><span class="sf3b16">isn’</span><span style="color: #000000; background-color: #ddffdd; ">t necessarily the fastest option if </span><span class="sf3b16">you’</span><span style="color: #000000; background-color: #ddffdd; ">re using a shared mount of some kind. A local repository is fast only if you have fast access to the data. A repository on NFS is often slower than the repository over SSH on the same server, allowing Git to run off local disks on each system.</span></code></td>
<td class="ln">46</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">It'</span><span style="color: #000000; background-color: #ddffdd; ">s also important to mention that this </span><span class="sf3b16">isn'</span><span style="color: #000000; background-color: #ddffdd; ">t necessarily the fastest option if </span><span class="sf3b16">you'</span><span style="color: #000000; background-color: #ddffdd; ">re using a shared mount of some kind. A local repository is fast only if you have fast access to the data. A repository on NFS is often slower than the repository over SSH on the same server, allowing Git to run off local disks on each system.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">48</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">47</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">49</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">###</span><span style="color: #000000; background-color: #ddffdd; "> The HTTP</span><span class="sf3b18">/S</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Protocol ###</span>&nbsp;</code></td>
<td class="ln">48</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">====</span><span style="color: #000000; background-color: #ddffdd; "> The HTTP</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Protocols</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">50</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">49</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">50</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git can communicate over HTTP in two different modes.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">51</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Prior to Git 1.6.6 there was only one way it could do this which was very simple and generally read-only.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">52</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In version 1.6.6 a new, smarter protocol was introduced that involved Git being able to intelligently negotiate data transfer in a manner similar to how it does over SSH.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">51</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">Last</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">we have </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">HTTP</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">protocol.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">The</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">beauty</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">of</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">the </span><span style="color: #000000; background-color: #ddffdd; ">HTTP </span><span class="sf3b18">or HTTPS </span><span style="color: #000000; background-color: #ddffdd; ">protocol </span><span class="sf3b16">i</span><span style="color: #000000; background-color: #ddffdd; ">s </span><span class="sf3b16">th</span><span style="color: #000000; background-color: #ddffdd; ">e </span><span class="sf3b16">simplicit</span><span style="color: #000000; background-color: #ddffdd; ">y </span><span class="sf3b16">of</span><span style="color: #000000; background-color: #ddffdd; "> s</span><span class="sf3b16">etting</span><span style="color: #000000; background-color: #ddffdd; "> it</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">up.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Basically,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">all you have to do is put </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">bare</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">Git repository under your HTTP document root </span><span style="color: #000000; background-color: #ddffdd; ">and s</span><span class="sf3b16">et</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">up</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">specific</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">`post-update` hook, and you’re done (See Chapter 7 for details on Git hooks). At that point, anyone who can access the web server under which you put the repository can also clone your repository. To allow read access to your repository over HTTP, do something like this:</span>&nbsp;</code></td>
<td class="ln">53</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">In</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">last</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">few</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">years,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">this</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">new</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">HTTP </span><span style="color: #000000; background-color: #ddffdd; ">protocol </span><span class="sf3b16">ha</span><span style="color: #000000; background-color: #ddffdd; ">s </span><span class="sf3b16">becom</span><span style="color: #000000; background-color: #ddffdd; ">e </span><span class="sf3b16">ver</span><span style="color: #000000; background-color: #ddffdd; ">y </span><span class="sf3b16">popular</span><span style="color: #000000; background-color: #ddffdd; "> s</span><span class="sf3b16">ince</span><span style="color: #000000; background-color: #ddffdd; "> it</span><span class="sf3b18">'s</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">simpler</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">for</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">user</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">and s</span><span class="sf3b16">marter</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">about</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">how</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">communicates.</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">54</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The newer version is often referred to as the ``Smart'' HTTP protocol and the older way as ``Dumb'' HTTP.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">55</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">We'll cover the newer ``smart'' HTTP protocol first.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">52</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">56</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">57</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">===== Smart HTTP</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">58</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">59</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">(((protocols, smart HTTP)))</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">60</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The ``smart'' HTTP protocol operates very similarly to the SSH or Git protocols but runs over standard HTTP/S ports and can use various HTTP authentication mechanisms, meaning it's often easier on the user than something like SSH, since you can use things like username/password basic authentication rather than having to set up SSH keys.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">61</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">62</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It has probably become the most popular way to use Git now, since it can be set up to both serve anonymously like the `git://` protocol, and can also be pushed over with authentication and encryption like the SSH protocol. Instead of having to set up different URLs for these things, you can now use a single URL for both. If you try to push and the repository requires authentication (which it normally should), the server can prompt for a username and password. The same goes for read access.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">63</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">64</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In fact, for services like GitHub, the URL you use to view the repository online (for example, ``https://github.com/schacon/simplegit[]'') is the same URL you can use to clone and, if you have access, push over.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">65</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">66</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">===== Dumb HTTP</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">67</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">68</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">(((protocols, dumb HTTP)))</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">69</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If the server does not respond with a Git HTTP smart service, the Git client will try to fall back to the simpler ``dumb'' HTTP protocol.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">70</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The Dumb protocol expects the bare Git repository to be served like normal files from the web server.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">71</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The beauty of the Dumb HTTP protocol is the simplicity of setting it up.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">72</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Basically, all you have to do is put a bare Git repository under your HTTP document root and set up a specific `post-update` hook, and you're done (See &lt;&lt;_git_hooks&gt;&gt;).</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">73</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At that point, anyone who can access the web server under which you put the repository can also clone your repository.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">74</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">To allow read access to your repository over HTTP, do something like this:</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">75</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">76</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">77</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">53</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ cd /var/www/htdocs/</span></code></td>
<td class="ln">78</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ cd /var/www/htdocs/</span></code></td>
</tr>
<tr valign="top">
<td class="ln">54</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone --bare /path/to/git_project gitproject.git</span></code></td>
<td class="ln">79</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone --bare /path/to/git_project gitproject.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln">55</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ cd gitproject.git</span></code></td>
<td class="ln">80</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ cd gitproject.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln">56</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ mv hooks/post-update.sample hooks/post-update</span></code></td>
<td class="ln">81</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ mv hooks/post-update.sample hooks/post-update</span></code></td>
</tr>
<tr valign="top">
<td class="ln">57</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ chmod a+x hooks/post-update</span></code></td>
<td class="ln">82</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ chmod a+x hooks/post-update</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">83</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">58</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">84</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">59</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That</span><span class="sf3b16">’s</span><span style="color: #000000; background-color: #ddffdd; "> all.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">The `post-update` hook that comes with Git by default runs the appropriate command (`git update-server-info`) to make HTTP fetching and cloning work properly. This command is run when you push to this repository </span><span style="color: #000000; background-color: #ddffdd; ">over SSH</span><span class="sf3b18">;</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">then, other people can clone via something like</span></code></td>
<td class="ln">85</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That</span><span class="sf3b16">'s</span><span style="color: #000000; background-color: #ddffdd; "> all.</span><span class="sf3b18">(((hooks,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">post-update))) </span><span style="color: #000000; background-color: #ddffdd; ">The `post-update` hook that comes with Git by default runs the appropriate command (`git update-server-info`) to make HTTP fetching and cloning work properly. This command is run when you push to this repository </span><span class="sf3b18">(</span><span style="color: #000000; background-color: #ddffdd; ">over SSH</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">perhaps); </span><span style="color: #000000; background-color: #ddffdd; ">then, other people can clone via something like</span></code></td>
</tr>
<tr valign="top">
<td class="ln">60</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">86</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">87</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">88</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">61</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone http</span><span style="color: #000000; background-color: #ddffdd; ">://example.com/gitproject.git</span></code></td>
<td class="ln">89</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone http</span><span class="sf3b18">s</span><span style="color: #000000; background-color: #ddffdd; ">://example.com/gitproject.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">90</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">62</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">91</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">63</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In this particular case, </span><span class="sf3b16">we’</span><span style="color: #000000; background-color: #ddffdd; ">re using the `/var/www/htdocs` path that is common for Apache setups, but you can use any static web server </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> just put the bare repository in its path. The Git data is served as basic static files (see </span><span class="sf3b16">Chapter</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">9 </span><span style="color: #000000; background-color: #ddffdd; ">for details about exactly how </span><span class="sf3b16">it’</span><span style="color: #000000; background-color: #ddffdd; ">s served).</span></code></td>
<td class="ln">92</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In this particular case, </span><span class="sf3b16">we'</span><span style="color: #000000; background-color: #ddffdd; ">re using the `/var/www/htdocs` path that is common for Apache setups, but you can use any static web server </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> just put the bare repository in its path. The Git data is served as basic static files (see </span><span class="sf3b16">&lt;&lt;_git_internals&gt;&gt;</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">for details about exactly how </span><span class="sf3b16">it'</span><span style="color: #000000; background-color: #ddffdd; ">s served).</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">93</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">64</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">65</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It’s possible to make Git push over HTTP as well, although that technique isn’t as widely used and requires you to set up complex WebDAV requirements. Because it’s rarely used, we won’t cover it in this book. If you’re interested in using the HTTP-push protocols, you can read about preparing a repository for this purpose at `http://www.kernel.org/pub/software/scm/git/docs/howto/set<wbr>up-git-server-over-http.txt`. One nice thing about making Git push over HTTP is that you can use any WebDAV server, without specific Git features; so, you can use this functionality if your web-hosting provider supports WebDAV for writing updates to your web site.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">94</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Generally you would either choose to run a read/write Smart HTTP server or simply have the files accessible as read-only in the Dumb manner. It's rare to run a mix of the two services.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">66</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">95</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">67</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">96</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">68</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">97</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">98</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">We'll concentrate on the pros of the Smart version of the HTTP protocol.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">99</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">69</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The </span><span class="sf3b16">upside</span><span style="color: #000000; background-color: #ddffdd; "> of </span><span class="sf3b16">us</span><span style="color: #000000; background-color: #ddffdd; ">ing </span><span class="sf3b16">the</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">HTTP</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">protocol</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">that</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it’s</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">easy</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">set</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">up.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">Running </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">handful</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">of</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">required</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">commands</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">gives</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">you</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">simple</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">way</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">give</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">worl</span><span style="color: #000000; background-color: #ddffdd; ">d </span><span class="sf3b16">read</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">access</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">to </span><span class="sf3b16">your</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Git</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">repository.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">It</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">takes</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">only</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">few</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">minutes</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">do.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">The</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">HTTP</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">protocol</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">also</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">isn’t</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">very</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">resource</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">intensiv</span><span style="color: #000000; background-color: #ddffdd; ">e </span><span class="sf3b16">on</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">your</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">server.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Because</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">generally</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">uses</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">static</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">HTTP</span><span style="color: #000000; background-color: #ddffdd; "> server </span><span style="color: #000000; background-color: #ddffdd; ">to </span><span class="sf3b16">serve</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">all</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">the</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">data,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">normal</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Apache</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">serve</span><span style="color: #000000; background-color: #ddffdd; ">r </span><span class="sf3b16">can</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">serve</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">thousand</span><span style="color: #000000; background-color: #ddffdd; ">s </span><span class="sf3b16">of</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">files</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">per</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">second</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">on</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">average</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it’s</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">difficult</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">overload</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">even</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">a </span><span class="sf3b16">small</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">server</span><span style="color: #000000; background-color: #ddffdd; ">.</span></code></td>
<td class="ln">100</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The </span><span class="sf3b16">simplicity</span><span style="color: #000000; background-color: #ddffdd; "> of </span><span class="sf3b16">hav</span><span style="color: #000000; background-color: #ddffdd; ">ing </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">single</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">URL</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">for</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">all</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">types</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">of</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">access</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">and</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">having</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">server</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">prompt</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">only</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">when</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">authentication</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">needed</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">makes</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">things</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">very</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">easy</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">for </span><span style="color: #000000; background-color: #ddffdd; ">the </span><span class="sf3b16">en</span><span style="color: #000000; background-color: #ddffdd; ">d </span><span class="sf3b16">user.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">Being</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">able </span><span style="color: #000000; background-color: #ddffdd; ">to </span><span class="sf3b16">authenticate</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">with</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">username</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">and</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">password</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">also</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">big</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">advantage</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">over</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">SSH,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">since</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">users</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">don't</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">have</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">generat</span><span style="color: #000000; background-color: #ddffdd; ">e </span><span class="sf3b16">SSH</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">keys</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">locally</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">and</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">upload</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">their</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">public</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">key</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">to</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">the</span><span style="color: #000000; background-color: #ddffdd; "> server </span><span class="sf3b18">before being able </span><span style="color: #000000; background-color: #ddffdd; ">to </span><span class="sf3b16">interact</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">with</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">it.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">For</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">less</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">sophisticated</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">users,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">o</span><span style="color: #000000; background-color: #ddffdd; ">r </span><span class="sf3b16">users</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">on</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">system</span><span style="color: #000000; background-color: #ddffdd; ">s </span><span class="sf3b16">where</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">SSH</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">less</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">common,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">this</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">a</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">major</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">advantage</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">in</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">usability.</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">It is also </span><span style="color: #000000; background-color: #ddffdd; ">a </span><span class="sf3b16">very</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">fast and efficient protocol, similar to the SSH one</span><span style="color: #000000; background-color: #ddffdd; ">.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">70</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">101</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">71</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can also serve your repositories read-only over HTTPS, which means you can encrypt the content transfer; or you can go so far as to make the clients use specific signed SSL certificates.</span><span class="sf3b18"> Generally, if you’re going to these lengths, it’s easier to use SSH public keys; but it may be a better solution in your specific case to use signed SSL certificates or other HTTP-based authentication methods for read-only access over HTTPS.</span>&nbsp;</code></td>
<td class="ln">102</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can also serve your repositories read-only over HTTPS, which means you can encrypt the content transfer; or you can go so far as to make the clients use specific signed SSL certificates.</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">72</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">103</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">73</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Another nice thing is that HTTP</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> such </span><span class="sf3b18">a </span><span style="color: #000000; background-color: #ddffdd; ">commonly used protocol</span><span style="color: #000000; background-color: #ddffdd; "> that corporate firewalls are often set up to allow traffic through th</span><span class="sf3b16">is</span><span style="color: #000000; background-color: #ddffdd; "> port</span><span style="color: #000000; background-color: #ddffdd; ">.</span></code></td>
<td class="ln">104</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Another nice thing is that HTTP</span><span class="sf3b18">/S</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b16">are</span><span style="color: #000000; background-color: #ddffdd; "> such </span><span style="color: #000000; background-color: #ddffdd; ">commonly used protocol</span><span class="sf3b18">s</span><span style="color: #000000; background-color: #ddffdd; "> that corporate firewalls are often set up to allow traffic through th</span><span class="sf3b16">ese</span><span style="color: #000000; background-color: #ddffdd; "> port</span><span class="sf3b18">s</span><span style="color: #000000; background-color: #ddffdd; ">.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">74</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">105</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">75</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">106</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">107</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">108</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Git over HTTP/S can be a little more tricky to set up compared to SSH on some servers. Other than that, there is very little advantage that other protocols have over the ``Smart'' HTTP protocol for serving Git.</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">109</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">76</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">77</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The downside of serving your repository over HTTP is that it’s relatively inefficient for the client. It generally takes a lot longer to clone or fetch from the repository, and you often have a lot more network overhead and transfer volume over HTTP than with any of the other network protocols. Because it’s not as intelligent about transferring only the data you need — there is no dynamic work on the part of the server in these transactions — the HTTP protocol is often referred to as a _dumb_ protocol. For more information about the differences in efficiency between the HTTP protocol and the other protocols, see Chapter 9.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">110</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you're using HTTP for authenticated pushing, providing your credentials is sometimes more complicated than using keys over SSH. There are however several credential caching tools you can use, including Keychain access on OSX and Credential Manager on Windows, to make this pretty painless. Read &lt;&lt;_credential_caching&gt;&gt; to see how to set up secure HTTP password caching on your system.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">78</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">111</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">79</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">###</span><span style="color: #000000; background-color: #ddffdd; "> The SSH Protocol</span><span class="sf3b18"> ###</span>&nbsp;</code></td>
<td class="ln">112</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">====</span><span style="color: #000000; background-color: #ddffdd; "> The SSH Protocol</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">80</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">113</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">114</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">(((protocols, SSH)))</span></code></td>
</tr>
<tr valign="top">
<td class="ln">81</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">Probably</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">the most </span><span style="color: #000000; background-color: #ddffdd; ">common transport protocol for Git </span><span style="color: #000000; background-color: #ddffdd; ">is </span><span style="color: #000000; background-color: #ddffdd; ">SSH. This is because SSH access to servers is already set up in most places </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> and if it </span><span class="sf3b16">isn’</span><span style="color: #000000; background-color: #ddffdd; ">t, </span><span class="sf3b16">it’</span><span style="color: #000000; background-color: #ddffdd; ">s easy to do. SSH is also </span><span class="sf3b18">the only network-based protocol that you can easily read from and write to. The other two network protocols (HTTP and Git) are generally read-only, so even if you have them available for the unwashed masses, you still need SSH for your own write commands. SSH is also </span><span style="color: #000000; background-color: #ddffdd; ">an authenticated network protocol; and because </span><span class="sf3b16">it’</span><span style="color: #000000; background-color: #ddffdd; ">s ubiquitous, </span><span class="sf3b16">it’</span><span style="color: #000000; background-color: #ddffdd; ">s generally easy to set up and use.</span></code></td>
<td class="ln">115</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">A</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">common transport protocol for Git </span><span class="sf3b18">when self-hosting </span><span style="color: #000000; background-color: #ddffdd; ">is </span><span class="sf3b18">over </span><span style="color: #000000; background-color: #ddffdd; ">SSH. This is because SSH access to servers is already set up in most places </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> and if it </span><span class="sf3b16">isn'</span><span style="color: #000000; background-color: #ddffdd; ">t, </span><span class="sf3b16">it'</span><span style="color: #000000; background-color: #ddffdd; ">s easy to do. SSH is also </span><span style="color: #000000; background-color: #ddffdd; ">an authenticated network protocol; and because </span><span class="sf3b16">it'</span><span style="color: #000000; background-color: #ddffdd; ">s ubiquitous, </span><span class="sf3b16">it'</span><span style="color: #000000; background-color: #ddffdd; ">s generally easy to set up and use.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">82</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">116</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">83</td><td style="color: #ffffff; background-color: #808000; "><code><span style="color: #ffffff; background-color: #808000; ">To clone a Git repository over SSH, you can specify ssh:// URL like this:</span></code></td>
<td class="ln">117</td><td style="color: #ffffff; background-color: #808000; "><code><span style="color: #ffffff; background-color: #808000; ">To clone a Git repository over SSH, you can specify ssh:// URL like this:</span></code></td>
</tr>
<tr valign="top">
<td class="ln">84</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">118</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">119</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">120</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">85</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone ssh://user@server/project.git</span></code></td>
<td class="ln">121</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone ssh://user@server/project.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">122</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">86</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">123</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">87</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Or you can use the shorter scp-like syntax for </span><span style="color: #000000; background-color: #ddffdd; ">SSH protocol:</span></code></td>
<td class="ln">124</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Or you can use the shorter scp-like syntax for </span><span class="sf3b18">the </span><span style="color: #000000; background-color: #ddffdd; ">SSH protocol:</span></code></td>
</tr>
<tr valign="top">
<td class="ln">88</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">125</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">126</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[source,console]</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">127</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">89</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18"> &nbsp; &nbsp;</span><span style="color: #000000; background-color: #ddffdd; ">$ git clone user@server:project.git</span></code></td>
<td class="ln">128</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">$ git clone user@server:project.git</span></code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">129</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">----</span></code></td>
</tr>
<tr valign="top">
<td class="ln">90</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">130</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">91</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can also not specify a user, and Git assumes the user </span><span class="sf3b16">you’</span><span style="color: #000000; background-color: #ddffdd; ">re currently logged in as.</span></code></td>
<td class="ln">131</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can also not specify a user, and Git assumes the user </span><span class="sf3b16">you'</span><span style="color: #000000; background-color: #ddffdd; ">re currently logged in as.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">92</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">132</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">93</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">133</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">94</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">134</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">95</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The pros of using SSH are many. First, </span><span class="sf3b18">you basically have to use it if you want authenticated write access to your repository over a network. Second, </span><span style="color: #000000; background-color: #ddffdd; ">SSH is relatively easy to set up </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> SSH daemons are commonplace, many network admins have experience with them, and many OS distributions are set up with them or have tools to manage them. Next, access over SSH is secure </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> all data transfer is encrypted and authenticated. Last, like the </span><span style="color: #000000; background-color: #ddffdd; ">Git and Local protocols, SSH is efficient, making the data as compact as possible before transferring it.</span></code></td>
<td class="ln">135</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The pros of using SSH are many. First, </span><span style="color: #000000; background-color: #ddffdd; ">SSH is relatively easy to set up </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> SSH daemons are commonplace, many network admins have experience with them, and many OS distributions are set up with them or have tools to manage them. Next, access over SSH is secure </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> all data transfer is encrypted and authenticated. Last, like the </span><span class="sf3b18">HTTP/S, </span><span style="color: #000000; background-color: #ddffdd; ">Git and Local protocols, SSH is efficient, making the data as compact as possible before transferring it.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">96</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">136</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">97</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">137</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">98</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">138</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">139</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The negative aspect of SSH is that you can't serve anonymous access of your repository over it.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">99</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b18">The negative aspect of SSH is that you can’t serve anonymous access of your repository over it. </span><span style="color: #000000; background-color: #ddffdd; ">People must have access to your machine over SSH to access it, even in a read-only capacity, which </span><span class="sf3b16">doesn’</span><span style="color: #000000; background-color: #ddffdd; ">t make SSH access conducive to open source projects. If </span><span class="sf3b16">you’</span><span style="color: #000000; background-color: #ddffdd; ">re using it only within your corporate network, SSH may be the only protocol you need to deal with. If you want to allow anonymous read-only access to your projects</span><span class="sf3b18">,</span><span style="color: #000000; background-color: #ddffdd; "> </span><span style="color: #000000; background-color: #ddffdd; ">you’ll have to set up SSH for you to push over but something else for others to </span><span class="sf3b16">pull</span><span style="color: #000000; background-color: #ddffdd; "> over.</span></code></td>
<td class="ln">140</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">People must have access to your machine over SSH to access it, even in a read-only capacity, which </span><span class="sf3b16">doesn'</span><span style="color: #000000; background-color: #ddffdd; ">t make SSH access conducive to open source projects. If </span><span class="sf3b16">you'</span><span style="color: #000000; background-color: #ddffdd; ">re using it only within your corporate network, SSH may be the only protocol you need to deal with. If you want to allow anonymous read-only access to your projects</span><span style="color: #000000; background-color: #ddffdd; "> </span><span class="sf3b18">and also want to use SSH, </span><span style="color: #000000; background-color: #ddffdd; ">you’ll have to set up SSH for you to push over but something else for others to </span><span class="sf3b16">fetch</span><span style="color: #000000; background-color: #ddffdd; "> over.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">100</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">141</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">101</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">###</span><span style="color: #000000; background-color: #ddffdd; "> The Git Protocol</span><span class="sf3b18"> ###</span>&nbsp;</code></td>
<td class="ln">142</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">====</span><span style="color: #000000; background-color: #ddffdd; "> The Git Protocol</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">102</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">143</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
<td class="ln">144</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">(((protocols, git)))</span></code></td>
</tr>
<tr valign="top">
<td class="ln">103</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next is the Git protocol. This is a special daemon that comes packaged with Git; it listens on a dedicated port (9418) that provides a service similar to the SSH protocol, but with absolutely no authentication. In order for a repository to be served over the Git protocol, you must create the `git-daemon-export-ok` file </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> the daemon </span><span class="sf3b16">won’</span><span style="color: #000000; background-color: #ddffdd; ">t serve a repository without that file in it </span><span class="sf3b16">—</span><span style="color: #000000; background-color: #ddffdd; "> but other than that there is no security. Either the Git repository is available for everyone to clone or it </span><span class="sf3b16">isn’</span><span style="color: #000000; background-color: #ddffdd; ">t. This means that there is generally no pushing over this protocol. You can enable push access; but given the lack of authentication, if you turn on push access, anyone on the internet who finds your </span><span class="sf3b16">project’</span><span style="color: #000000; background-color: #ddffdd; ">s URL could push to your project. Suffice it to say that this is rare.</span></code></td>
<td class="ln">145</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next is the Git protocol. This is a special daemon that comes packaged with Git; it listens on a dedicated port (9418) that provides a service similar to the SSH protocol, but with absolutely no authentication. In order for a repository to be served over the Git protocol, you must create the `git-daemon-export-ok` file </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> the daemon </span><span class="sf3b16">won'</span><span style="color: #000000; background-color: #ddffdd; ">t serve a repository without that file in it </span><span class="sf3b16">–</span><span style="color: #000000; background-color: #ddffdd; "> but other than that there is no security. Either the Git repository is available for everyone to clone or it </span><span class="sf3b16">isn'</span><span style="color: #000000; background-color: #ddffdd; ">t. This means that there is generally no pushing over this protocol. You can enable push access; but given the lack of authentication, if you turn on push access, anyone on the internet who finds your </span><span class="sf3b16">project'</span><span style="color: #000000; background-color: #ddffdd; ">s URL could push to your project. Suffice it to say that this is rare.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">104</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">146</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">105</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">147</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Pros</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">106</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">148</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">107</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The Git protocol is </span><span style="color: #000000; background-color: #ddffdd; ">the fastest </span><span style="color: #000000; background-color: #ddffdd; ">transfer protocol available. If you’re serving a lot of traffic for a public project or serving a very large project that doesn</span><span class="sf3b16">’t</span><span style="color: #000000; background-color: #ddffdd; "> require user authentication for read access, it’s likely that you</span><span class="sf3b16">’ll</span><span style="color: #000000; background-color: #ddffdd; "> want to set up a Git daemon to serve your project. It uses the same data-transfer mechanism as the SSH protocol but without the encryption and authentication overhead.</span></code></td>
<td class="ln">149</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The Git protocol is </span><span class="sf3b18">often </span><span style="color: #000000; background-color: #ddffdd; ">the fastest </span><span class="sf3b18">network </span><span style="color: #000000; background-color: #ddffdd; ">transfer protocol available. If you’re serving a lot of traffic for a public project or serving a very large project that doesn</span><span class="sf3b16">'t</span><span style="color: #000000; background-color: #ddffdd; "> require user authentication for read access, it’s likely that you</span><span class="sf3b16">'ll</span><span style="color: #000000; background-color: #ddffdd; "> want to set up a Git daemon to serve your project. It uses the same data-transfer mechanism as the SSH protocol but without the encryption and authentication overhead.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">108</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">150</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">109</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">####</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span><span class="sf3b18"> ####</span>&nbsp;</code></td>
<td class="ln">151</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">=====</span><span style="color: #000000; background-color: #ddffdd; "> The Cons</span>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">110</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">152</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">111</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The downside of the Git protocol is the lack of authentication. It</span><span class="sf3b16">’s</span><span style="color: #000000; background-color: #ddffdd; "> generally undesirable for the Git protocol to be the only access to your project. Generally, you</span><span class="sf3b16">’ll</span><span style="color: #000000; background-color: #ddffdd; "> pair it with SSH </span><span style="color: #000000; background-color: #ddffdd; ">access for the few developers who have push (write) access and have everyone else use `git://` for read-only access.</span></code></td>
<td class="ln">153</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The downside of the Git protocol is the lack of authentication. It</span><span class="sf3b16">'s</span><span style="color: #000000; background-color: #ddffdd; "> generally undesirable for the Git protocol to be the only access to your project. Generally, you</span><span class="sf3b16">'ll</span><span style="color: #000000; background-color: #ddffdd; "> pair it with SSH </span><span class="sf3b18">or HTTPS </span><span style="color: #000000; background-color: #ddffdd; ">access for the few developers who have push (write) access and have everyone else use `git://` for read-only access.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">112</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">It’</span><span style="color: #000000; background-color: #ddffdd; ">s also probably the most difficult protocol to set up. It must run its own daemon, which </span><span class="sf3b18">is custom — we’ll look at setting one up in the “Gitosis” section of this chapter — it </span><span style="color: #000000; background-color: #ddffdd; ">requires `xinetd` configuration or the like, which </span><span class="sf3b16">isn’</span><span style="color: #000000; background-color: #ddffdd; ">t always a walk in the park. It also requires firewall access to port 9418, which </span><span class="sf3b16">isn’</span><span style="color: #000000; background-color: #ddffdd; ">t a standard port that corporate firewalls always allow. Behind big corporate firewalls, this obscure port is commonly blocked.</span></code></td>
<td class="ln">154</td><td style="color: #000000; background-color: #ddffdd; "><code><span class="sf3b16">It'</span><span style="color: #000000; background-color: #ddffdd; ">s also probably the most difficult protocol to set up. It must run its own daemon, which </span><span style="color: #000000; background-color: #ddffdd; ">requires `xinetd` configuration or the like, which </span><span class="sf3b16">isn'</span><span style="color: #000000; background-color: #ddffdd; ">t always a walk in the park. It also requires firewall access to port 9418, which </span><span class="sf3b16">isn'</span><span style="color: #000000; background-color: #ddffdd; ">t a standard port that corporate firewalls always allow. Behind big corporate firewalls, this obscure port is commonly blocked.</span></code></td>
</tr>
<tr valign="top">
<td class="ln">113</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">114</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Getting Git on a Server ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">115</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">116</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In order to initially set up any Git server, you have to export an existing repository into a new bare repository — a repository that doesn’t contain a working directory. This is generally straightforward to do.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">117</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In order to clone your repository to create a new bare repository, you run the clone command with the `--bare` option. By convention, bare repository directories end in `.git`, like so:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">118</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">119</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone --bare my_project my_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">120</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Cloning into bare repository 'my_project.git'...</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">121</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">122</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">123</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You should now have a copy of the Git directory data in your `my_project.git` directory.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">124</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">125</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This is roughly equivalent to something like</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">126</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">127</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cp -Rf my_project/.git my_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">128</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">129</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">There are a couple of minor differences in the configuration file; but for your purpose, this is close to the same thing. It takes the Git repository by itself, without a working directory, and creates a directory specifically for it alone.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">130</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">131</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Putting the Bare Repository on a Server ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">132</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">133</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now that you have a bare copy of your repository, all you need to do is put it on a server and set up your protocols. Let’s say you’ve set up a server called `git.example.com` that you have SSH access to, and you want to store all your Git repositories under the `/opt/git` directory. You can set up your new repository by copying your bare repository over:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">134</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">135</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ scp -r my_project.git user@git.example.com:/opt/git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">136</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">137</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At this point, other users who have SSH access to the same server which has read-access to the `/opt/git` directory can clone your repository by running</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">138</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">139</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone user@git.example.com:/opt/git/my_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">140</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">141</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If a user SSHs into a server and has write access to the `/opt/git/my_project.git` directory, they will also automatically have push access. &nbsp;Git will automatically add group write permissions to a repository properly if you run the `git init` command with the `--shared` option.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">142</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">143</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ssh user@git.example.com</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">144</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd /opt/git/my_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">145</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git init --bare --shared</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">146</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">147</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You see how easy it is to take a Git repository, create a bare version, and place it on a server to which you and your collaborators have SSH access. Now you’re ready to collaborate on the same project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">148</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">149</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It’s important to note that this is literally all you need to do to run a useful Git server to which several people have access — just add SSH-able accounts on a server, and stick a bare repository somewhere that all those users have read and write access to. You’re ready to go — nothing else needed.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">150</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">151</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In the next few sections, you’ll see how to expand to more sophisticated setups. This discussion will include not having to create user accounts for each user, adding public read access to repositories, setting up web UIs, using the Gitosis tool, and more. However, keep in mind that to collaborate with a couple of people on a private project, all you _need_ is an SSH server and a bare repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">152</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">153</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Small Setups ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">154</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">155</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you’re a small outfit or are just trying out Git in your organization and have only a few developers, things can be simple for you. One of the most complicated aspects of setting up a Git server is user management. If you want some repositories to be read-only to certain users and read/write to others, access and permissions can be a bit difficult to arrange.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">156</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">157</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">#### SSH Access ####</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">158</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">159</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you already have a server to which all your developers have SSH access, it’s generally easiest to set up your first repository there, because you have to do almost no work (as we covered in the last section). If you want more complex access control type permissions on your repositories, you can handle them with the normal filesystem permissions of the operating system your server runs.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">160</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">161</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you want to place your repositories on a server that doesn’t have accounts for everyone on your team whom you want to have write access, then you must set up SSH access for them. We assume that if you have a server with which to do this, you already have an SSH server installed, and that’s how you’re accessing the server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">162</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">163</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">There are a few ways you can give access to everyone on your team. The first is to set up accounts for everybody, which is straightforward but can be cumbersome. You may not want to run `adduser` and set temporary passwords for every user.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">164</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">165</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">A second method is to create a single 'git' user on the machine, ask every user who is to have write access to send you an SSH public key, and add that key to the `~/.ssh/authorized_keys` file of your new 'git' user. At that point, everyone will be able to access that machine via the 'git' user. This doesn’t affect the commit data in any way — the SSH user you connect as doesn’t affect the commits you’ve recorded.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">166</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">167</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Another way to do it is to have your SSH server authenticate from an LDAP server or some other centralized authentication source that you may already have set up. As long as each user can get shell access on the machine, any SSH authentication mechanism you can think of should work.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">168</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">169</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Generating Your SSH Public Key ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">170</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">171</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That being said, many Git servers authenticate using SSH public keys. In order to provide a public key, each user in your system must generate one if they don’t already have one. This process is similar across all operating systems.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">172</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">First, you should check to make sure you don’t already have a key. By default, a user’s SSH keys are stored in that user’s `~/.ssh` directory. You can easily check to see if you have a key already by going to that directory and listing the contents:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">173</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">174</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd ~/.ssh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">175</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ls</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">176</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;authorized_keys2 &nbsp;id_dsa &nbsp; &nbsp; &nbsp; known_hosts</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">177</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;config &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;id_dsa.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">178</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">179</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You’re looking for a pair of files named something and something.pub, where the something is usually `id_dsa` or `id_rsa`. The `.pub` file is your public key, and the other file is your private key. If you don’t have these files (or you don’t even have a `.ssh` directory), you can create them by running a program called `ssh-keygen`, which is provided with the SSH package on Linux/Mac systems and comes with the MSysGit package on Windows:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">180</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">181</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ssh-keygen</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">182</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Generating public/private rsa key pair.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">183</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Enter file in which to save the key (/Users/schacon/.ssh/id_rsa):</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">184</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Enter passphrase (empty for no passphrase):</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">185</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Enter same passphrase again:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">186</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Your identification has been saved in /Users/schacon/.ssh/id_rsa.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">187</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Your public key has been saved in /Users/schacon/.ssh/id_rsa.pub.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">188</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;The key fingerprint is:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">189</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;43:c5:5b:5f:b1:f1:50:43:ad:20:a6:92:6a:1f:9a:3a schacon@agadorlaptop.local</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">190</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">191</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">First it confirms where you want to save the key (`.ssh/id_rsa`), and then it asks twice for a passphrase, which you can leave empty if you don’t want to type a password when you use the key.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">192</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">193</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now, each user that does this has to send their public key to you or whoever is administrating the Git server (assuming you’re using an SSH server setup that requires public keys). All they have to do is copy the contents of the `.pub` file and e-mail it. The public keys look something like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">194</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">195</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat ~/.ssh/id_rsa.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">196</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjo<wbr>m/BWDSU</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">197</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5<wbr>QVkbPppSwg0cda3</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">198</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQ<wbr>wdsdMFvSlVK/7XA</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">199</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby<wbr>6vw/Pb0rwert/En</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">200</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1<wbr>d01QraTlMqVSsbx</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">201</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;NrRFi9wrf+M7Q== schacon@agadorlaptop.local</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">202</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">203</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">For a more in-depth tutorial on creating an SSH key on multiple operating systems, see the GitHub guide on SSH keys at `http://github.com/guides/providing-your-ssh-key`.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">204</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">205</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Setting Up the Server ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">206</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">207</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Let’s walk through setting up SSH access on the server side. In this example, you’ll use the `authorized_keys` method for authenticating your users. We also assume you’re running a standard Linux distribution like Ubuntu. First, you create a 'git' user and a `.ssh` directory for that user.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">208</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">209</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo adduser git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">210</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ su git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">211</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">212</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ mkdir .ssh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">213</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">214</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next, you need to add some developer SSH public keys to the `authorized_keys` file for that user. Let’s assume you’ve received a few keys by e-mail and saved them to temporary files. Again, the public keys look something like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">215</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">216</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat /tmp/id_rsa.john.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">217</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf<wbr>9LGt4L</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">218</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;ojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zy<wbr>tK6Ztg3RPKK+4k</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">219</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Yjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLM<wbr>dpGW1GYEIgS9Ez</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">220</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Sdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLt<wbr>PofwFBlgc+myiv</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">221</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;O7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsH<wbr>T4kgtZg2AYYgPq</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">222</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;dAv8JggJICUvax2T9va5 gsg-keypair</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">223</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">224</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You just append them to your `authorized_keys` file:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">225</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">226</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat /tmp/id_rsa.john.pub &gt;&gt; ~/.ssh/authorized_keys</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">227</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat /tmp/id_rsa.josie.pub &gt;&gt; ~/.ssh/authorized_keys</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">228</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat /tmp/id_rsa.jessica.pub &gt;&gt; ~/.ssh/authorized_keys</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">229</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">230</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Key-based SSH authentication usually enforces security by requiring restricted rights on the involved files. To prevent SSH from refusing to work, type this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">231</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">232</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ chmod -R go= ~/.ssh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">233</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">234</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now, you can set up an empty repository for your users by running `git init` with the `--bare` option, which initializes the repository without a working directory:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">235</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">236</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd /opt/git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">237</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ mkdir project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">238</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">239</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git --bare init</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">240</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">241</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Then, John, Josie, or Jessica can push the first version of their project into that repository by adding it as a remote and pushing up a branch. Note that someone must shell onto the machine and create a bare repository every time you want to add a project. Let’s use `gitserver` as the hostname of the server on which you’ve set up your 'git' user and repository. If you’re running it internally, and you set up DNS for `gitserver` to point to that server, then you can use the commands pretty much as is:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">242</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">243</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;# on Johns computer</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">244</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd myproject</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">245</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git init</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">246</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git add .</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">247</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git commit -m 'initial commit'</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">248</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git remote add origin git@gitserver:/opt/git/project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">249</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git push origin master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">250</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">251</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At this point, the others can clone it down and push changes back up just as easily:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">252</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">253</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone git@gitserver:/opt/git/project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">254</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">255</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ vim README</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">256</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git commit -am 'fix for the README file'</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">257</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git push origin master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">258</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">259</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">With this method, you can quickly get a read/write Git server up and running for a handful of developers.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">260</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">261</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">As an extra precaution, you can easily restrict the 'git' user to only doing Git activities with a limited shell tool called `git-shell` that comes with Git. If you set this as your 'git' user’s login shell, then the 'git' user can’t have normal shell access to your server. To use this, specify `git-shell` instead of bash or csh for your user’s login shell. To do so, you’ll likely have to edit your `/etc/passwd` file:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">262</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">263</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo vim /etc/passwd</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">264</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">265</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At the bottom, you should find a line that looks something like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">266</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">267</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;git:x:1000:1000::/home/git:/bin/sh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">268</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">269</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Change `/bin/sh` to `/usr/bin/git-shell` (or run `which git-shell` to see where it’s installed). The line should look something like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">270</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">271</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;git:x:1000:1000::/home/git:/usr/bin/git-shell</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">272</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">273</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now, the 'git' user can only use the SSH connection to push and pull Git repositories and can’t shell onto the machine. If you try, you’ll see a login rejection like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">274</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">275</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ssh git@gitserver</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">276</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;fatal: What do you think I am? A shell?</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">277</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Connection to gitserver closed.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">278</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">279</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Public Access ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">280</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">281</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">What if you want anonymous read access to your project? Perhaps instead of hosting an internal private project, you want to host an open source project. Or maybe you have a bunch of automated build servers or continuous integration servers that change a lot, and you don’t want to have to generate SSH keys all the time — you just want to add simple anonymous read access.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">282</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">283</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Probably the simplest way for smaller setups is to run a static web server with its document root where your Git repositories are, and then enable that `post-update` hook we mentioned in the first section of this chapter. Let’s work from the previous example. Say you have your repositories in the `/opt/git` directory, and an Apache server is running on your machine. Again, you can use any web server for this; but as an example, we’ll demonstrate some basic Apache configurations that should give you an idea of what you might need.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">284</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">285</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">First you need to enable the hook:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">286</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">287</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">288</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ mv hooks/post-update.sample hooks/post-update</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">289</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ chmod a+x hooks/post-update</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">290</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">291</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">What does this `post-update` hook do? It looks basically like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">292</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">293</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat .git/hooks/post-update</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">294</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;#!/bin/sh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">295</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;#</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">296</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;# An example hook script to prepare a packed repository for use over</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">297</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;# dumb transports.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">298</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;#</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">299</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;# To enable this hook, rename this file to "post-update".</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">300</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;#</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">301</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;</span>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">302</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;exec git-update-server-info</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">303</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">304</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This means that when you push to the server via SSH, Git will run this command to update the files needed for HTTP fetching.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">305</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">306</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next, you need to add a VirtualHost entry to your Apache configuration with the document root as the root directory of your Git projects. Here, we’re assuming that you have wildcard DNS set up to send `*.gitserver` to whatever box you’re using to run all this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">307</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">308</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;&lt;VirtualHost *:80&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">309</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;ServerName git.gitserver</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">310</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;DocumentRoot /opt/git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">311</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;&lt;Directory /opt/git/&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">312</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Order allow, deny</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">313</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;allow from all</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">314</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/Directory&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">315</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;&lt;/VirtualHost&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">316</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">317</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You’ll also need to set the Unix user group of the `/opt/git` directories to `www-data` so your web server can read-access the repositories, because the Apache instance running the CGI script will (by default) be running as that user:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">318</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">319</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ chgrp -R www-data /opt/git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">320</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">321</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When you restart Apache, you should be able to clone your repositories under that directory by specifying the URL for your project:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">322</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">323</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone http://git.gitserver/project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">324</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">325</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This way, you can set up HTTP-based read access to any of your projects for a fair number of users in a few minutes. Another simple option for public unauthenticated access is to start a Git daemon, although that requires you to daemonize the process - we’ll cover this option in the next section, if you prefer that route.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">326</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">327</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## GitWeb ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">328</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">329</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now that you have basic read/write and read-only access to your project, you may want to set up a simple web-based visualizer. Git comes with a CGI script called GitWeb that is commonly used for this. You can see GitWeb in use at sites like `http://git.kernel.org` (see Figure 4-1).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">330</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">331</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0401.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">332</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-1. The GitWeb web-based user interface.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">333</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">334</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you want to check out what GitWeb would look like for your project, Git comes with a command to fire up a temporary instance if you have a lightweight server on your system like `lighttpd` or `webrick`. On Linux machines, `lighttpd` is often installed, so you may be able to get it to run by typing `git instaweb` in your project directory. If you’re running a Mac, Leopard comes preinstalled with Ruby, so `webrick` may be your best bet. To start `instaweb` with a non-lighttpd handler, you can run it with the `--httpd` option.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">335</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">336</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git instaweb --httpd=webrick</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">337</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[2009-02-21 10:02:21] INFO &nbsp;WEBrick 1.3.1</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">338</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[2009-02-21 10:02:21] INFO &nbsp;ruby 1.8.6 (2008-03-03) [universal-darwin9.0]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">339</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">340</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That starts up an HTTPD server on port 1234 and then automatically starts a web browser that opens on that page. It’s pretty easy on your part. When you’re done and want to shut down the server, you can run the same command with the `--stop` option:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">341</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">342</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git instaweb --httpd=webrick --stop</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">343</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">344</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you want to run the web interface on a server all the time for your team or for an open source project you’re hosting, you’ll need to set up the CGI script to be served by your normal web server. Some Linux distributions have a `gitweb` package that you may be able to install via `apt` or `yum`, so you may want to try that first. We’ll walk though installing GitWeb manually very quickly. First, you need to get the Git source code, which GitWeb comes with, and generate the custom CGI script:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">345</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">346</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone git://git.kernel.org/pub/scm/git/git.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">347</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">348</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ make GITWEB_PROJECTROOT="/opt/git" \</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">349</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;prefix=/usr gitweb</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">350</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo cp -Rf gitweb /var/www/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">351</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">352</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Notice that you have to tell the command where to find your Git repositories with the `GITWEB_PROJECTROOT` variable. Now, you need to make Apache use CGI for that script, for which you can add a VirtualHost:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">353</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">354</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;&lt;VirtualHost *:80&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">355</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;ServerName gitserver</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">356</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;DocumentRoot /var/www/gitweb</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">357</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;&lt;Directory /var/www/gitweb&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">358</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Options ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">359</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AllowOverride All</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">360</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;order allow,deny</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">361</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Allow from all</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">362</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AddHandler cgi-script cgi</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">363</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DirectoryIndex gitweb.cgi</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">364</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/Directory&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">365</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;&lt;/VirtualHost&gt;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">366</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">367</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Again, GitWeb can be served with any CGI capable web server; if you prefer to use something else, it shouldn’t be difficult to set up. At this point, you should be able to visit `http://gitserver/` to view your repositories online, and you can use `http://git.gitserver` to clone and fetch your repositories over HTTP.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">368</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">369</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Gitosis ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">370</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">371</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Keeping all users’ public keys in the `authorized_keys` file for access works well only for a while. When you have hundreds of users, it’s much more of a pain to manage that process. You have to shell onto the server each time, and there is no access control — everyone in the file has read and write access to every project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">372</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">373</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At this point, you may want to turn to a widely used software project called Gitosis. Gitosis is basically a set of scripts that help you manage the `authorized_keys` file as well as implement some simple access controls. The really interesting part is that the UI for this tool for adding people and determining access isn’t a web interface but a special Git repository. You set up the information in that project; and when you push it, Gitosis reconfigures the server based on that, which is cool.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">374</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">375</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Installing Gitosis isn’t the simplest task ever, but it’s not too difficult. It’s easiest to use a Linux server for it — these examples use a stock Ubuntu 8.10 server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">376</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">377</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitosis requires some Python tools, so first you have to install the Python setuptools package, which Ubuntu provides as python-setuptools:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">378</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">379</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ apt-get install python-setuptools</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">380</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">381</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next, you clone and install Gitosis from the project’s main site:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">382</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">383</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone https://github.com/tv42/gitosis.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">384</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd gitosis</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">385</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo python setup.py install</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">386</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">387</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That installs a couple of executables that Gitosis will use. Next, Gitosis wants to put its repositories under `/home/git`, which is fine. But you have already set up your repositories in `/opt/git`, so instead of reconfiguring everything, you create a symlink:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">388</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">389</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ln -s /opt/git /home/git/repositories</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">390</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">391</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitosis is going to manage your keys for you, so you need to remove the current file, re-add the keys later, and let Gitosis control the `authorized_keys` file automatically. For now, move the `authorized_keys` file out of the way:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">392</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">393</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ mv /home/git/.ssh/authorized_keys /home/git/.ssh/ak.bak</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">394</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">395</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next you need to turn your shell back on for the 'git' user, if you changed it to the `git-shell` command. People still won’t be able to log in, but Gitosis will control that for you. So, let’s change this line in your `/etc/passwd` file</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">396</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">397</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;git:x:1000:1000::/home/git:/usr/bin/git-shell</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">398</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">399</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">back to this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">400</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">401</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;git:x:1000:1000::/home/git:/bin/sh</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">402</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">403</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now it’s time to initialize Gitosis. You do this by running the `gitosis-init` command with your personal public key. If your public key isn’t on the server, you’ll have to copy it there:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">404</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">405</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo -H -u git gitosis-init &lt; /tmp/id_dsa.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">406</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Initialized empty Git repository in /opt/git/gitosis-admin.git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">407</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Reinitialized existing Git repository in /opt/git/gitosis-admin.git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">408</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">409</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This lets the user with that key modify the main Git repository that controls the Gitosis setup. Next, you have to manually set the execute bit on the `post-update` script for your new control repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">410</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">411</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ sudo chmod 755 /opt/git/gitosis-admin.git/hooks/post-update</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">412</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">413</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You’re ready to roll. If you’re set up correctly, you can try to SSH into your server as the user for which you added the public key to initialize Gitosis. You should see something like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">414</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">415</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ssh git@gitserver</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">416</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;PTY allocation request failed on channel 0</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">417</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;ERROR:gitosis.serve.main:Need SSH_ORIGINAL_COMMAND in environment.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">418</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp;Connection to gitserver closed.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">419</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">420</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That means Gitosis recognized you but shut you out because you’re not trying to do any Git commands. So, let’s do an actual Git command — you’ll clone the Gitosis control repository:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">421</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">422</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;# on your local computer</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">423</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone git@gitserver:gitosis-admin.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">424</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">425</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now you have a directory named `gitosis-admin`, which has two major parts:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">426</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">427</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd gitosis-admin</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">428</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ find .</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">429</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;./gitosis.conf</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">430</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;./keydir</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">431</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;./keydir/scott.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">432</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">433</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The `gitosis.conf` file is the control file you use to specify users, repositories, and permissions. The `keydir` directory is where you store the public keys of all the users who have any sort of access to your repositories — one file per user. The name of the file in `keydir` (in the previous example, `scott.pub`) will be different for you — Gitosis takes that name from the description at the end of the public key that was imported with the `gitosis-init` script.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">434</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">435</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you look at the `gitosis.conf` file, it should only specify information about the `gitosis-admin` project that you just cloned:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">436</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">437</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat gitosis.conf</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">438</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[gitosis]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">439</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">440</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group gitosis-admin]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">441</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = scott</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">442</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable = gitosis-admin</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">443</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">444</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It shows you that the 'scott' user — the user with whose public key you initialized Gitosis — is the only one who has access to the `gitosis-admin` project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">445</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">446</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now, let’s add a new project for you. You’ll add a new section called `mobile` where you’ll list the developers on your mobile team and projects that those developers need access to. Because 'scott' is the only user in the system right now, you’ll add him as the only member, and you’ll create a new project called `iphone_project` to start on:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">447</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">448</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">449</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = scott</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">450</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable = iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">451</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">452</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Whenever you make changes to the `gitosis-admin` project, you have to commit the changes and push them back up to the server in order for them to take effect:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">453</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">454</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git commit -am 'add iphone_project and mobile group'</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">455</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[master 8962da8] add iphone_project and mobile group</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">456</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; 1 file changed, 4 insertions(+)</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">457</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git push origin master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">458</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Counting objects: 5, done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">459</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Compressing objects: 100% (3/3), done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">460</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Writing objects: 100% (3/3), 272 bytes | 0 bytes/s, done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">461</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Total 3 (delta 0), reused 0 (delta 0)</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">462</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;To git@gitserver:gitosis-admin.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">463</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; fb27aec..8962da8 &nbsp;master -&gt; master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">464</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">465</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can make your first push to the new `iphone_project` project by adding your server as a remote to your local version of the project and pushing. You no longer have to manually create a bare repository for new projects on the server — Gitosis creates them automatically when it sees the first push:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">466</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">467</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git remote add origin git@gitserver:iphone_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">468</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git push origin master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">469</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Initialized empty Git repository in /opt/git/iphone_project.git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">470</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Counting objects: 3, done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">471</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Writing objects: 100% (3/3), 230 bytes | 0 bytes/s, done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">472</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;Total 3 (delta 0), reused 0 (delta 0)</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">473</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;To git@gitserver:iphone_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">474</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; * [new branch] &nbsp; &nbsp; &nbsp;master -&gt; master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">475</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">476</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Notice that you don’t need to specify the path (in fact, doing so won’t work), just a colon and then the name of the project — Gitosis finds it for you.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">477</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">478</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You want to work on this project with your friends, so you’ll have to re-add their public keys. But instead of appending them manually to the `~/.ssh/authorized_keys` file on your server, you’ll add them, one key per file, into the `keydir` directory. How you name the keys determines how you refer to the users in the `gitosis.conf` file. Let’s re-add the public keys for John, Josie, and Jessica:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">479</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">480</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cp /tmp/id_rsa.john.pub keydir/john.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">481</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cp /tmp/id_rsa.josie.pub keydir/josie.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">482</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cp /tmp/id_rsa.jessica.pub keydir/jessica.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">483</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">484</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now you can add them all to your 'mobile' team so they have read and write access to `iphone_project`:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">485</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">486</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">487</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = scott john josie jessica</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">488</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable = iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">489</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">490</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">After you commit and push that change, all four users will be able to read from and write to that project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">491</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">492</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitosis has simple access controls as well. If you want John to have only read access to this project, you can do this instead:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">493</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">494</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">495</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = scott josie jessica</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">496</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable = iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">497</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">498</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile_ro]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">499</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = john</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">500</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;readonly = iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">501</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">502</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now John can clone the project and get updates, but Gitosis won’t allow him to push back up to the project. You can create as many of these groups as you want, each containing different users and projects. You can also specify another group as one of the members (using `@` as prefix), to inherit all of its members automatically:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">503</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">504</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile_committers]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">505</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members = scott josie jessica</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">506</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">507</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">508</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members &nbsp; = @mobile_committers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">509</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable &nbsp;= iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">510</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">511</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[group mobile_2]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">512</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;members &nbsp; = @mobile_committers john</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">513</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;writable &nbsp;= another_iphone_project</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">514</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">515</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you have any issues, it may be useful to add `loglevel=DEBUG` under the `[gitosis]` section. If you’ve lost push access by pushing a messed-up configuration, you can manually fix the file on the server under `/home/git/.gitosis.conf` — the file from which Gitosis reads its info. A push to the project takes the `gitosis.conf` file you just pushed up and sticks it there. If you edit that file manually, it remains like that until the next successful push to the `gitosis-admin` project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">516</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">517</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Gitolite ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">518</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">519</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This section serves as a quick introduction to Gitolite, and provides basic installation and setup instructions. &nbsp;It cannot, however, replace the enormous amount of [documentation][gltoc] that Gitolite comes with. &nbsp;There may also be occasional changes to this section itself, so you may also want to look at the latest version [here][gldpg].</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">520</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">521</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[gldpg]: http://sitaramc.github.com/gitolite/progit.html</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">522</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">[gltoc]: http://sitaramc.github.com/gitolite/master-toc.html</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">523</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">524</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite is an authorization layer on top of Git, relying on `sshd` or `httpd` for authentication. &nbsp;(Recap: authentication is identifying who the user is, authorization is deciding if he is allowed to do what he is attempting to).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">525</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">526</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite allows you to specify permissions not just by repository, but also by branch or tag names within each repository. &nbsp;That is, you can specify that certain people (or groups of people) can only push certain "refs" (branches or tags) but not others.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">527</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">528</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Installing ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">529</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">530</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Installing Gitolite is very easy, even if you don’t read the extensive documentation that comes with it. &nbsp;You need an account on a Unix server of some kind. &nbsp;You do not need root access, assuming Git, Perl, and an OpenSSH compatible SSH server are already installed. &nbsp;In the examples below, we will use the `git` account on a host called `gitserver`.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">531</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">532</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite is somewhat unusual as far as "server" software goes — access is via SSH, and so every userid on the server is a potential "gitolite host". &nbsp;We will describe the simplest install method in this article; for the other methods please see the documentation.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">533</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">534</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">To begin, create a user called `git` on your server and login to this user. &nbsp;Copy your SSH public key (a file called `~/.ssh/id_rsa.pub` if you did a plain `ssh-keygen` with all the defaults) from your workstation, renaming it to `&lt;yourname&gt;.pub` (we'll use `scott.pub` in our examples). &nbsp;Then run these commands:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">535</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">536</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git clone git://github.com/sitaramc/gitolite</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">537</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ gitolite/install -ln</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">538</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;# assumes $HOME/bin exists and is in your $PATH</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">539</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ gitolite setup -pk $HOME/scott.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">540</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">541</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That last command creates new Git repository called `gitolite-admin` on the server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">542</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">543</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Finally, back on your workstation, run `git clone git@gitserver:gitolite-admin`. And you’re done! &nbsp;Gitolite has now been installed on the server, and you now have a brand new repository called `gitolite-admin` in your workstation. &nbsp;You administer your Gitolite setup by making changes to this repository and pushing.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">544</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">545</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Customising the Install ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">546</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">547</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">While the default, quick, install works for most people, there are some ways to customise the install if you need to. &nbsp;Some changes can be made simply by editing the rc file, but if that is not sufficient, there’s documentation on customising Gitolite.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">548</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">549</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Config File and Access Control Rules ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">550</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">551</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Once the install is done, you switch to the `gitolite-admin` clone you just made on your workstation, and poke around to see what you got:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">552</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">553</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd ~/gitolite-admin/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">554</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ ls</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">555</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;conf/ &nbsp;keydir/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">556</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ find conf keydir -type f</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">557</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;conf/gitolite.conf</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">558</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;keydir/scott.pub</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">559</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cat conf/gitolite.conf</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">560</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">561</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;repo gitolite-admin</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">562</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = scott</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">563</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">564</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;repo testing</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">565</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = @all</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">566</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">567</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Notice that "scott" (the name of the pubkey in the `gitolite setup` command you used earlier) has read-write permissions on the `gitolite-admin` repository as well as a public key file of the same name.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">568</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">569</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Adding users is easy. &nbsp;To add a user called "alice", obtain her public key, name it `alice.pub`, and put it in the `keydir` directory of the clone of the `gitolite-admin` repo you just made on your workstation. &nbsp;Add, commit, and push the change, and the user has been added.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">570</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">571</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The config file syntax for Gitolite is well documented, so we’ll only mention some highlights here.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">572</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">573</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can group users or repos for convenience. &nbsp;The group names are just like macros; when defining them, it doesn’t even matter whether they are projects or users; that distinction is only made when you *use* the "macro".</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">574</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">575</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@oss_repos &nbsp; &nbsp; &nbsp;= linux perl rakudo git gitolite</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">576</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@secret_repos &nbsp; = fenestra pear</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">577</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">578</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@admins &nbsp; &nbsp; &nbsp; &nbsp; = scott</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">579</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@interns &nbsp; &nbsp; &nbsp; &nbsp;= ashok</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">580</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@engineers &nbsp; &nbsp; &nbsp;= sitaram dilbert wally alice</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">581</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@staff &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= @admins @engineers @interns</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">582</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">583</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can control permissions at the "ref" level. &nbsp;In the following example, interns can only push the "int" branch. &nbsp;Engineers can push any branch whose name starts with "eng-", and tags that start with "rc" followed by a digit. &nbsp;And the admins can do anything (including rewind) to any ref.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">584</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">585</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;repo @oss_repos</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">586</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW &nbsp;int$ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= @interns</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">587</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW &nbsp;eng- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= @engineers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">588</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW &nbsp;refs/tags/rc[0-9] &nbsp; = @engineers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">589</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = @admins</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">590</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">591</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The expression after the `RW` or `RW+` is a regular expression (regex) that the refname (ref) being pushed is matched against. &nbsp;So we call it a "refex"! &nbsp;Of course, a refex can be far more powerful than shown here, so don’t overdo it if you’re not comfortable with Perl regexes.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">592</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">593</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Also, as you probably guessed, Gitolite prefixes `refs/heads/` as a syntactic convenience if the refex does not begin with `refs/`.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">594</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">595</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">An important feature of the config file’s syntax is that all the rules for a repository need not be in one place. &nbsp;You can keep all the common stuff together, like the rules for all `oss_repos` shown above, then add specific rules for specific cases later on, like so:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">596</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">597</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;repo gitolite</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">598</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = sitaram</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">599</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">600</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That rule will just get added to the ruleset for the `gitolite` repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">601</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">602</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">At this point you might be wondering how the access control rules are actually applied, so let’s go over that briefly.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">603</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">604</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">There are two levels of access control in Gitolite. &nbsp;The first is at the repository level; if you have read (or write) access to *any* ref in the repository, then you have read (or write) access to the repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">605</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">606</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The second level, applicable only to "write" access, is by branch or tag within a repository. &nbsp;The username, the access being attempted (`W` or `+`), and the refname being updated are known. &nbsp;The access rules are checked in order of appearance in the config file, looking for a match for this combination (but remember that the refname is regex-matched, not merely string-matched). &nbsp;If a match is found, the push succeeds. &nbsp;A fallthrough results in access being denied.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">607</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">608</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Advanced Access Control with "deny" rules ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">609</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">610</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">So far, we’ve only seen permissions to be one of `R`, `RW`, or `RW+`. &nbsp;However, Gitolite allows another permission: `-`, standing for "deny". &nbsp;This gives you a lot more power, at the expense of some complexity, because now fallthrough is not the *only* way for access to be denied, so the *order of the rules now matters*!</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">611</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">612</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Let us say, in the situation above, we want engineers to be able to rewind any branch *except* master and integ. &nbsp;Here’s how to do that:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">613</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">614</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW &nbsp;master integ &nbsp; &nbsp;= @engineers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">615</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;- &nbsp; master integ &nbsp; &nbsp;= @engineers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">616</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = @engineers</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">617</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">618</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Again, you simply follow the rules top down until you hit a match for your access mode, or a deny. &nbsp;Non-rewind push to master or integ is allowed by the first rule. &nbsp;A rewind push to those refs does not match the first rule, drops down to the second, and is therefore denied. &nbsp;Any push (rewind or non-rewind) to refs other than master or integ won’t match the first two rules anyway, and the third rule allows it.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">619</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">620</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Restricting pushes by files changed ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">621</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">622</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In addition to restricting what branches a user can push changes to, you can also restrict what files they are allowed to touch. &nbsp;For example, perhaps the Makefile (or some other program) is really not supposed to be changed by just anyone, because a lot of things depend on it or would break if the changes are not done *just right*. &nbsp;You can tell Gitolite:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">623</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">624</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;repo foo</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">625</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &nbsp; @junior_devs @senior_devs</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">626</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">627</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;- &nbsp; VREF/NAME/Makefile &nbsp;= &nbsp; @junior_devs</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">628</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">629</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Users who are migrating from the older Gitolite should note that there is a significant change in behaviour with regard to this feature; please see the migration guide for details.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">630</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">631</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Personal Branches ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">632</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">633</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite also has a feature called "personal branches" (or rather, "personal branch namespace") that can be very useful in a corporate environment.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">634</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">635</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">A lot of code exchange in the Git world happens by "please pull" requests. &nbsp;In a corporate environment, however, unauthenticated access is a no-no, and a developer workstation cannot do authentication, so you have to push to the central server and ask someone to pull from there.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">636</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">637</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This would normally cause the same branch name clutter as in a centralised VCS, plus setting up permissions for this becomes a chore for the admin.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">638</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">639</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite lets you define a "personal" or "scratch" namespace prefix for each developer (for example, `refs/personal/&lt;devname&gt;/*`); please see the documentation for details.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">640</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">641</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### "Wildcard" repositories ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">642</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">643</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitolite allows you to specify repositories with wildcards (actually Perl regexes), like, for example `assignments/s[0-9][0-9]/a[0-9][0-9]`, to pick a random example. &nbsp;It also allows you to assign a new permission mode (`C`) which enables users to create repositories based on such wild cards, automatically assigns ownership to the specific user who created it, allows him/her to hand out `R` and `RW` permissions to other users to collaborate, etc. &nbsp;Again, please see the documentation for details.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">644</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">645</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Other Features ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">646</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">647</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">We’ll round off this discussion with a sampling of other features, all of which, and many more, are described in great detail in the documentation.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">648</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">649</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">**Logging**: Gitolite logs all successful accesses. &nbsp;If you were somewhat relaxed about giving people rewind permissions (`RW+`) and some kid blew away `master`, the log file is a life saver, in terms of easily and quickly finding the SHA that got hosed.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">650</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">651</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">**Access rights reporting**: Another convenient feature is what happens when you try and just ssh to the server. &nbsp;Gitolite shows you what repos you have access to, and what that access may be. &nbsp;Here’s an example:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">652</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">653</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;hello scott, this is git@git running gitolite3 v3.01-18-g9609868 on git 1.7.4.4</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">654</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">655</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp; &nbsp; anu-wsd</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">656</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp; &nbsp; entrans</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">657</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp;W &nbsp;git-notes</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">658</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp;W &nbsp;gitolite</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">659</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp;W &nbsp;gitolite-admin</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">660</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp; &nbsp; indic_web_input</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">661</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R &nbsp; &nbsp; shreelipi_converter</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">662</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">663</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">**Delegation**: For really large installations, you can delegate responsibility for groups of repositories to various people and have them manage those pieces independently. &nbsp;This reduces the load on the main admin, and makes him less of a bottleneck.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">664</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">665</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">**Mirroring**: Gitolite can help you maintain multiple mirrors, and switch between them easily if the primary server goes down.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">666</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">667</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Git Daemon ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">668</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">669</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">For public, unauthenticated read access to your projects, you’ll want to move past the HTTP protocol and start using the Git protocol. The main reason is speed. The Git protocol is far more efficient and thus faster than the HTTP protocol, so using it will save your users time.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">670</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">671</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Again, this is for unauthenticated read-only access. If you’re running this on a server outside your firewall, it should only be used for projects that are publicly visible to the world. If the server you’re running it on is inside your firewall, you might use it for projects that a large number of people or computers (continuous integration or build servers) have read-only access to, when you don’t want to have to add an SSH key for each.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">672</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">673</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">In any case, the Git protocol is relatively easy to set up. Basically, you need to run this command in a daemonized manner:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">674</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">675</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;git daemon --reuseaddr --base-path=/opt/git/ /opt/git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">676</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">677</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">`--reuseaddr` allows the server to restart without waiting for old connections to time out, the `--base-path` option allows people to clone projects without specifying the entire path, and the path at the end tells the Git daemon where to look for repositories to export. If you’re running a firewall, you’ll also need to punch a hole in it at port 9418 on the box you’re setting this up on.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">678</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">679</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can daemonize this process a number of ways, depending on the operating system you’re running. On an Ubuntu machine, you use an Upstart script. So, in the following file</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">680</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">681</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;/etc/event.d/local-git-daemon</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">682</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">683</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">you put this script:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">684</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">685</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;start on startup</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">686</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;stop on shutdown</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">687</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;exec /usr/bin/git daemon \</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">688</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;--user=git --group=git \</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">689</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;--reuseaddr \</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">690</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;--base-path=/opt/git/ \</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">691</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp; &nbsp; &nbsp;/opt/git/</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">692</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;respawn</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">693</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">694</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">For security reasons, it is strongly encouraged to have this daemon run as a user with read-only permissions to the repositories — you can easily do this by creating a new user 'git-ro' and running the daemon as them. &nbsp;For the sake of simplicity we’ll simply run it as the same 'git' user that Gitosis is running as.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">695</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">696</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When you restart your machine, your Git daemon will start automatically and respawn if it goes down. To get it running without having to reboot, you can run this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">697</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">698</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;initctl start local-git-daemon</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">699</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">700</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">On other systems, you may want to use `xinetd`, a script in your `sysvinit` system, or something else — as long as you get that command daemonized and watched somehow.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">701</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">702</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next, you have to tell your Gitosis server which repositories to allow unauthenticated Git server-based access to. If you add a section for each repository, you can specify the ones from which you want your Git daemon to allow reading. If you want to allow Git protocol access for the `iphone_project`, you add this to the end of the `gitosis.conf` file:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">703</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">704</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[repo iphone_project]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">705</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;daemon = yes</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">706</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">707</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When that is committed and pushed up, your running daemon should start serving requests for the project to anyone who has access to port 9418 on your server.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">708</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">709</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you decide not to use Gitosis, but you want to set up a Git daemon, you’ll have to run this on each project you want the Git daemon to serve:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">710</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">711</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ cd /path/to/project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">712</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ touch git-daemon-export-ok</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">713</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">714</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The presence of that file tells Git that it’s OK to serve this project without authentication.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">715</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">716</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Gitosis can also control which projects GitWeb shows. First, you need to add something like the following to the `/etc/gitweb.conf` file:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">717</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">718</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$projects_list = "/home/git/gitosis/projects.list";</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">719</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$projectroot = "/home/git/repositories";</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">720</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$export_ok = "git-daemon-export-ok";</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">721</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;@git_base_url_list = ('git://gitserver');</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">722</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">723</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You can control which projects GitWeb lets users browse by adding or removing a `gitweb` setting in the Gitosis configuration file. For instance, if you want the `iphone_project` to show up on GitWeb, you make the `repo` setting look like this:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">724</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">725</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;[repo iphone_project]</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">726</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;daemon = yes</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">727</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;gitweb = yes</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">728</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">729</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now, if you commit and push the project, GitWeb will automatically start showing the `iphone_project`.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">730</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">731</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Hosted Git ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">732</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">733</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you don’t want to go through all of the work involved in setting up your own Git server, you have several options for hosting your Git projects on an external dedicated hosting site. Doing so offers a number of advantages: a hosting site is generally quick to set up and easy to start projects on, and no server maintenance or monitoring is involved. Even if you set up and run your own server internally, you may still want to use a public hosting site for your open source code — it’s generally easier for the open source community to find and help you with.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">734</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">735</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">These days, you have a huge number of hosting options to choose from, each with different advantages and disadvantages. To see an up-to-date list, check out the following page:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">736</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">737</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;https://git.wiki.kernel.org/index.php/GitHosting</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">738</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">739</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Because we can’t cover all of them, and because I happen to work at one of them, we’ll use this section to walk through setting up an account and creating a new project at GitHub. This will give you an idea of what is involved.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">740</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">741</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">GitHub is by far the largest open source Git hosting site and it’s also one of the very few that offers both public and private hosting options so you can keep your open source and private commercial code in the same place. In fact, we used GitHub to privately collaborate on this book.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">742</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">743</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### GitHub ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">744</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">745</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">GitHub is slightly different than most code-hosting sites in the way that it namespaces projects. Instead of being primarily based on the project, GitHub is user-centric. That means when I host my `grit` project on GitHub, you won’t find it at `github.com/grit` but instead at `github.com/schacon/grit`. There is no canonical version of any project, which allows a project to move from one user to another seamlessly if the first author abandons the project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">746</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">747</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">GitHub is also a commercial company that charges for accounts that maintain private repositories, but anyone can quickly get a free account to host as many open source projects as they want. We’ll quickly go over how that is done.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">748</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">749</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Setting Up a User Account ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">750</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">751</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The first thing you need to do is set up a free user account. If you visit the "Plans and pricing" page at `https://github.com/pricing` and click the "Sign Up" button on the Free account (see Figure 4-2), you’re taken to the signup page.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">752</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">753</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0402.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">754</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-2. The GitHub plan page.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">755</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">756</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Here you must choose a username that isn’t yet taken in the system and enter an e-mail address that will be associated with the account and a password (see Figure 4-3).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">757</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">758</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0403.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">759</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-3. The GitHub user signup form.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">760</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">761</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you have it available, this is a good time to add your public SSH key as well. We covered how to generate a new key earlier, in the "Simple Setups" section. Take the contents of the public key of that pair, and paste it into the SSH Public Key text box. Clicking the "explain ssh keys" link takes you to detailed instructions on how to do so on all major operating systems.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">762</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Clicking the "I agree, sign me up" button takes you to your new user dashboard (see Figure 4-4).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">763</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">764</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0404.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">765</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-4. The GitHub user dashboard.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">766</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">767</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Next you can create a new repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">768</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">769</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Creating a New Repository ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">770</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">771</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Start by clicking the "create a new one" link next to Your Repositories on the user dashboard. You’re taken to the Create a New Repository form (see Figure 4-5).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">772</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">773</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0405.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">774</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-5. Creating a new repository on GitHub.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">775</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">776</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">All you really have to do is provide a project name, but you can also add a description. When that is done, click the "Create Repository" button. Now you have a new repository on GitHub (see Figure 4-6).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">777</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">778</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0406.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">779</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-6. GitHub project header information.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">780</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">781</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Since you have no code there yet, GitHub will show you instructions for how create a brand-new project, push an existing Git project up, or import a project from a public Subversion repository (see Figure 4-7).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">782</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">783</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0407.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">784</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-7. Instructions for a new repository.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">785</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">786</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">These instructions are similar to what we’ve already gone over. To initialize a project if it isn’t already a Git project, you use</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">787</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">788</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git init</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">789</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git add .</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">790</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git commit -m 'initial commit'</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">791</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">792</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When you have a Git repository locally, add GitHub as a remote and push up your master branch:</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">793</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">794</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git remote add origin git@github.com:testinguser/iphone_project.git</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">795</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; "> &nbsp; &nbsp;$ git push origin master</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">796</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">797</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Now your project is hosted on GitHub, and you can give the URL to anyone you want to share your project with. In this case, it’s `http://github.com/testinguser/iphone_project`. You can also see from the header on each of your project’s pages that you have two Git URLs (see Figure 4-8).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">798</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">799</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0408.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">800</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-8. Project header with a public URL and a private URL.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">801</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">802</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The Public Clone URL is a public, read-only Git URL over which anyone can clone the project. Feel free to give out that URL and post it on your web site or what have you.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">803</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">804</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">The Your Clone URL is a read/write SSH-based URL that you can read or write over only if you connect with the SSH private key associated with the public key you uploaded for your user. When other users visit this project page, they won’t see that URL—only the public one.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">805</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">806</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Importing from Subversion ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">807</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">808</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you have an existing public Subversion project that you want to import into Git, GitHub can often do that for you. At the bottom of the instructions page is a link to a Subversion import. If you click it, you see a form with information about the import process and a text box where you can paste in the URL of your public Subversion project (see Figure 4-9).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">809</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">810</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0409.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">811</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-9. Subversion importing interface.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">812</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">813</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If your project is very large, nonstandard, or private, this process probably won’t work for you. In Chapter 7, you’ll learn how to do more complicated manual project imports.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">814</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">815</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Adding Collaborators ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">816</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">817</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Let’s add the rest of the team. If John, Josie, and Jessica all sign up for accounts on GitHub, and you want to give them push access to your repository, you can add them to your project as collaborators. Doing so will allow pushes from their public keys to work.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">818</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">819</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Click the "edit" button in the project header or the Admin tab at the top of the project to reach the Admin page of your GitHub project (see Figure 4-10).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">820</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">821</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0410.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">822</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-10. GitHub administration page.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">823</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">824</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">To give another user write access to your project, click the “Add another collaborator” link. A new text box appears, into which you can type a username. As you type, a helper pops up, showing you possible username matches. When you find the correct user, click the Add button to add that user as a collaborator on your project (see Figure 4-11).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">825</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">826</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0411.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">827</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-11. Adding a collaborator to your project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">828</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">829</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When you’re finished adding collaborators, you should see a list of them in the Repository Collaborators box (see Figure 4-12).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">830</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">831</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0412.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">832</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-12. A list of collaborators on your project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">833</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">834</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you need to revoke access to individuals, you can click the "revoke" link, and their push access will be removed. For future projects, you can also copy collaborator groups by copying the permissions of an existing project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">835</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">836</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Your Project ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">837</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">838</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">After you push your project up or have it imported from Subversion, you have a main project page that looks something like Figure 4-13.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">839</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">840</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0413.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">841</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-13. A GitHub main project page.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">842</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">843</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">When people visit your project, they see this page. It contains tabs to different aspects of your projects. The Commits tab shows a list of commits in reverse chronological order, similar to the output of the `git log` command. The Network tab shows all the people who have forked your project and contributed back. The Downloads tab allows you to upload project binaries and link to tarballs and zipped versions of any tagged points in your project. The Wiki tab provides a wiki where you can write documentation or other information about your project. The Graphs tab has some contribution visualizations and statistics about your project. The main Source tab that you land on shows your project’s main directory listing and automatically renders the README file below it if you have one. This tab also shows a box with the latest commit information.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">844</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">845</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### Forking Projects ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">846</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">847</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">If you want to contribute to an existing project to which you don’t have push access, GitHub encourages forking the project. When you land on a project page that looks interesting and you want to hack on it a bit, you can click the "fork" button in the project header to have GitHub copy that project to your user so you can push to it.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">848</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">849</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">This way, projects don’t have to worry about adding users as collaborators to give them push access. People can fork a project and push to it, and the main project maintainer can pull in those changes by adding them as remotes and merging in their work.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">850</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">851</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">To fork a project, visit the project page (in this case, mojombo/chronic) and click the "fork" button in the header (see Figure 4-14).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">852</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">853</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0414.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">854</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-14. Get a writable copy of any repository by clicking the "fork" button.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">855</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">856</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">After a few seconds, you’re taken to your new project page, which indicates that this project is a fork of another one (see Figure 4-15).</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">857</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">858</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Insert 18333fig0415.png</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">859</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Figure 4-15. Your fork of a project.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">860</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">861</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">### GitHub Summary ###</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">862</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">863</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">That’s all we’ll cover about GitHub, but it’s important to note how quickly you can do all this. You can create an account, add a new project, and push to it in a matter of minutes. If your project is open source, you also get a huge community of developers who now have visibility into your project and may well fork it and help contribute to it. At the very least, this may be a way to get up and running with Git and try it out quickly.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">864</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">865</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">## Summary ##</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">866</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">867</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">You have several options to get a remote Git repository up and running so that you can collaborate with others or share your work.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">868</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">869</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">Running your own server gives you a lot of control and allows you to run the server within your own firewall, but such a server generally requires a fair amount of your time to set up and maintain. If you place your data on a hosted server, it’s easy to set up and maintain; however, you have to be able to keep your code on someone else’s servers, and some organizations don’t allow that.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">870</td><td style="color: #000000; background-color: #ddffdd; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">871</td><td style="color: #000000; background-color: #ddffdd; "><code><span style="color: #000000; background-color: #ddffdd; ">It should be fairly straightforward to determine which solution or combination of solutions is appropriate for you and your organization.</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #e0e0ff; "><code>&nbsp;</code></td>
</tr>
<tr valign="top">
<td class="ln">872</td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln">155</td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
</tbody>
</table>
</body>
</html>
